---
title: "[Deep Dive] CDN 동작 원리와 캐시 무효화 전략"
date: 2026-01-25 23:05:53 +0900
categories: [개발뉴스]
tags: [CS, 심화]
---

## 표면적 이해
CDN은 콘텐츠 전송 네트워크(Content Delivery Network)의 약자로, 사용자의 요청에 대한 응답을 더 빠르게 전달하기 위해 사용되는 기술이다.

## Deep Dive

### 왜 필요한가?
CDN은 사용자와 서버 간의 물리적 거리를 줄여줌으로써 웹 페이지 로딩 시간을 단축시키는 기술이다. 이전 방식에서는 사용자의 요청이 서버까지 전달되고, 서버에서 응답이 사용자에게 돌아오는 과정에서 많은 시간이 소요되었다. 이 문제를 해결하기 위해 CDN이 등장하였다.

### 내부 동작 원리
CDN은 캐시 서버를 여러 지역에 분산하여 배치함으로써 동작한다. 사용자가 웹 페이지에 접근할 때, 가장 가까운 CDN 캐시 서버에서 요청을 처리한다. 캐시 서버에 요청된 콘텐츠가 캐시되어 있다면, 캐시 서버에서 직접 응답을 전달한다. 캐시 서버에 요청된 콘텐츠가 캐시되어 있지 않다면, 캐시 서버는 원본 서버에 요청을 전달하고, 원본 서버에서 받은 응답을 캐시하여 사용자에게 전달한다.
```
            +---------------+
            |     사용자    |
            +---------------+
                  |
                  |
                  v
            +---------------+
            |  CDN 캐시 서버  |
            +---------------+
                  |
                  |
                  v
            +---------------+
            |  원본 서버    |
            +---------------+
```

### 코드로 이해하기
CDN을 사용하는 경우, 일반적으로 HTML에서 자원への 링크 부분을 CDN으로 수정한다.
```typescript
// 자원을 CDN에서 불러오기
const script = document.createElement('script');
script.src = 'https://cdn.example.com/script.js';
document.head.appendChild(script);
```

```typescript
// 잘못된 사용 예 (❌)
// 같은 CDN에서 여러 자원을 불러올 때 각각의 URL을 쓰는 경우
const script1 = document.createElement('script');
script1.src = 'https://cdn1.example.com/script1.js';
document.head.appendChild(script1);

const script2 = document.createElement('script');
script2.src = 'https://cdn2.example.com/script2.js';
document.head.appendChild(script2);

// 올바른 사용 예 (✅)
// 같은 CDN에서 여러 자원을 불러올 때 같은 URL을 쓰는 경우
const script1 = document.createElement('script');
script1.src = 'https://cdn.example.com/script1.js';
document.head.appendChild(script1);

const script2 = document.createElement('script');
script2.src = 'https://cdn.example.com/script2.js';
document.head.appendChild(script2);
```

### 비교 분석

| 구분 | CDN | Proxy | Cache |
|------|---|---|---|
| 특성1 | 여러 지역에 분산된 캐시 서버를 사용 | 클라이언트와 서버 사이에서 중계 역할 | 자원에 대한 임시 저장 |
| 특성2 | 사용자와 서버 간의 거리 감소 | 익명성 제공 | 자원 로딩 시간 감소 |

### 실전 팁
- CDN을 사용할 때, 캐시 무효화 전략을 잘 세워야 한다. 캐시 무효화를 하지 않으면, 사용자에게 최신 콘텐츠가 전달되지 않을 수 있다.
- CDN을 사용할 때, 여러 지역에 분산된 캐시 서버를 사용하여 사용자에게 더 빠른 응답을 제공할 수 있다.
- 캐시 무효화 전략을 세운다면, 캐시 유효 기간을 잘 조절해야 한다. 캐시 유효 기간이 너무 짧으면, 캐시 서버에서 자원을 자주 업데이트하여 부하가 발생할 수 있다.

### 한 줄 정리
CDN은 캐시 서버를 여러 지역에 분산하여 배치함으로써 사용자에게 빠른 응답을 제공하는 기술이다.