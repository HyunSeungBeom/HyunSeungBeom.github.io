---
title: "[Deep Dive] JavaScript 이벤트 루프와 마이크로태스크 큐"
date: 2026-02-01 08:06:23 +0900
categories: [개발뉴스]
tags: [CS, 심화]
---

## 표면적 이해
JavaScript 이벤트 루프와 마이크로태스크 큐는 JavaScript 언어의 핵심 요소로서 비동기 처리를 가능하게 합니다.

## Deep Dive

### 왜 필요한가?
- 마이크로태스크 큐는_macrotask와는 달리 훨씬 짧은 주기의 처리를 제공합니다. 이는 이벤트 루프가 처리하는 작업을 더 세분화하여 비동기 처리의 효을 높입니다.
- 이전 방식의 한계는 처리할 작업이 너무 많아 대기 시간이 긴 경우macrotask큐에 작업이 쌓이므로, 처리가 너무 느려집니다. 마이크로태스크 큐는 이런 문제를 해결하기 위해 도입되었습니다.

### 내부 동작 원리
- 이벤트 루프는 macrotask 큐와 마이크로태스크 큐를 통해 작업을 처리합니다. macrotask큐에는 사용자 인터페이스 이벤트, 네트워크 요청 완료 등이 처리되고, 마이크로태스크 큐에는 Promise의 resolve/reject handlers와async/await의 resolver/rejecter 함수가 처리됩니다.
```
+---------------+
|  이벤트 루프  |
+---------------+
       |
       |
       v
+---------------+
| macrotask 큐  |
|  (거의 같은     |
|   순서로 처리) |
+---------------+
       |
       |
       v
+---------------+
| 마이크로태스크  |
|  큐 (Promise,   |
|  async/await)  |
+---------------+
       |
       |
       v
+---------------+
|  작업 처리    |
+---------------+
```

### 코드로 이해하기

```typescript
// Promise 예제
const promise = new Promise((resolve, reject) => {
    // 처리 작업
    resolve(' 처리 결과');
});

promise.then((result) => {
    console.log(result); // 마이크로태스크 큐에 처리됨
});
```

```typescript
// 잘못된 사용 예: 너무 많은 작업을 마이크로태스크 큐에 넣음
for (let i = 0; i < 10000; i++) {
    Promise.resolve().then(() => {
        // 처리 작업
    });
}

// 올바른 사용 예: macrotask 큐와 마이크로태스크 큐를 적절히 사용
setInterval(() => {
    for (let i = 0; i < 100; i++) {
        Promise.resolve().then(() => {
            // 처리 작업
        });
    }
}, 10);
```

### 비교 분석

| 구분 | macrotask 큐 | 마이크로태스크 큐 |
|------|---------|-------------|
| 처리 주기 | | |
| 작업 종류 | 사용자 인터페이스 이벤트, 네트워크 요청 등 | Promise, async/await 등 |
| 처리 순서 | 순서 |순서보장 안됨 |

### 실전 팁
- 마이크로태스크 큐를 사용할 때는 처리할 작업의 jumlah을 제한하는 것이 좋습니다. 너무 많은 작업을 하나의 큐에 넣으면 성능에 영향을 줄 수 있습니다.
- macrotask 큐와 마이크로태스크 큐를 혼용하여 사용하면 효율적인 비동기 처리가 가능합니다.
- Promise와 async/await를 적절히 사용하여 마이크로태스크 큐를 효율적으로 사용할 수 있습니다.

### 한 줄 정리
JavaScript 이벤트 루프와 마이크로태스크 큐는 비동기 처리를 효율적으로 처리할 수 있는 핵심 기술입니다.