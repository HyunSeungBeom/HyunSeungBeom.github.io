---
title: "[Deep Dive] Source Map 동작 원리와 디버깅"
date: 2026-02-26 08:11:48 +0900
categories: [개발뉴스]
tags: [CS, 심화]
---

## 표면적 이해
소스 맵은 자바스크립트 파일의 동작과 디버깅을 용이하게 하는 기술입니다.

## Deep Dive

### 왜 필요한가?
- 소스 맵은 개발 과정에서 사용하는 미니파이된(minified) 자바스크립트 파일의 동작과 디버깅을 원본 소스 코드와 연관시키는 기술입니다.
- 이전 방식에서는 미니파이된 자바스크립트 파일을 디버깅할 때, 원본 소스 코드의 라인과 열 정보가 일치하지 않아 디버깅에 어려움이 있었습니다.

### 내부 동작 원리
- 소스 맵은 미니파이된 자바스크립트 파일과 원본 소스 코드 간의 맵핑 정보를 포함하는 파일입니다.
- 웹 브라우저 또는 개발 도구는 이 맵핑 정보를 사용하여 미니파이된 자바스크립트 파일의 에러 위치를 원본 소스 코드의 해당 위치로 변환하여 디버깅을 용이하게 합니다.
```
          +---------------+
          |  원본 소스   |
          |  코드 (A.js) |
          +---------------+
                  |
                  | 미니파이
                  v
          +---------------+
          |  미니파이된  |
          |  자바스크립트 |
          |  파일 (A.min.js) |
          +---------------+
                  |
                  | 소스 맵 생성
                  v
          +---------------+
          |  소스 맵  |
          |  파일 (A.min.js.map) |
          +---------------+
                  |
                  | 디버깅
                  v
          +---------------+
          |  디버깅 도구  |
          |  (브라우저 등) |
          +---------------+
```

### 코드로 이해하기

```typescript
// 원본 소스 코드
function add(a: number, b: number): number {
  return a + b;
}

// 미니파이된 자바스크립트 파일
function add(a,b){return a+b;}

// 소스 맵 파일 생성
// (자동 생성 파일, 개발자 직접 작성하지 않음)
```

```typescript
// 잘못된 사용 예: 소스 맵 파일이 
// 올바른 사용 예: 소스 맵 파일이 존재
// webpack.config.js에서 sourceMap 옵션을 활성화
module.exports = {
  // ...
  devtool: 'source-map',
};
```

### 비교 분석

| 구분 | 미니파이 | 소스 맵 | 디버깅 |
|------|---|---|---|
| 원본 코드 | X | O | O |
| 파일 크기 | 작음 | 중간 | 중간 |
| 디버깅 용이성 | 어려움 | 용이 | 용이 |

### 실전 팁
- 개발 환경에서는 source-map을 활성화하여 디버깅을 용이하게 합니다.
- 제품 환경에서는 source-map을 비활성화하여 보안상 위험을 줄입니다.
- 성능 관련 주의사항: 소스 맵 생성과 로딩은 시스템 리소스를 소모할 수 있으므로 적절히 사용하여야 합니다.

### 한 줄 정리
소스 맵은 미니파이된 자바스크립트 파일의 디버깅을 용이하게 하는 기술로, 원본 소스 코드와의 맵핑 정보를 포함하는 파일을 생성하여 웹 브라우저 또는 개발 도구가 사용합니다.